#!/usr/bin/env ruby
require './lib/file_maker'
require './lib/file_converter'
require './lib/post'

args = ARGV
puts "You ran Hyde with these arguments: #{args}"

# path = ARGV[1]

# if ARGV[0] == "new"
  #we want to build the (new) base structure.
  #FileMaker.new.build(path) ?
# if ARGV[0] == "build"
 # we want to go through all folders and files and make sure everything is converted to HTML from source to _output


  # puts "Created a new post file at #{{path}}source/posts/":date"-juicy-post.markdown"

case ARGV[0]
  when "new"
    filemaker = FileMaker.new
    filemaker.create_dir(ARGV[1])
    filemaker.create_dir_structure(ARGV[1])
    filemaker.create_file_structure(ARGV[1])

  when "build"
    fileconverter = FileConverter.new
    fileconverter.md_to_html(ARGV[1])
    fileconverter.markdown_to_html(ARGV[1])

  when "post"
    new_post = Post.new
    new_post.post(ARGV[1], ARGV[2])

  # when
  #   puts "Type:"
  #   puts "  hyde new (my-blog-name) to create a new blog"
  #   puts "  hyde build to do some cool shit"
  #   puts "  hyde post 'title of post' to create a new post"
  end
